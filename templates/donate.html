{% extends "base.html" %}

{% block head %}
<style type="text/css">
#options div {
  padding-bottom: 10px;
}
</style>
<script type="text/javascript">
function handlePayPalClick(sum) {
  if (confirm('Please select "payment for friends and family" instead of "products and services" when you get to the PayPal payment page. OK?')) {
    window.open('https://www.paypal.me/helsinkibachateando/' + sum, '_blank');
  }
}

function handleSelection() {
  const donation10 = document.getElementById('donation-10');
  const donation15 = document.getElementById('donation-15');
  const donation20 = document.getElementById('donation-20');
  const payment = document.getElementById('payment');

  const amount = donation10.checked ? 10 : donation15.checked ? 15 : donation20.checked ? 20 : 0;
  payment.style.display = amount > 0 ? 'block' : 'none';
  payment.innerHTML = `
    <p>
    <a href="mobilepay://send?phone=0402403791&amount=${amount}&comment=Donation&lock=1"><img src="assets/mobilepay.svg?v={{ get_hash(path='static/assets/mobilepay.svg', sha_type=256) | slugify }}"></a>&nbsp;
    <a href="https://store.hbry.fi/product/outdoor-bachata-${amount}EUR-donation-for-summer-2023" target="_blank"><img src="assets/visa.svg?v={{ get_hash(path='static/assets/visa.svg', sha_type=256) | slugify }}"></a>&nbsp;
    <a onclick="handlePayPalClick(${amount})"><img src="assets/paypal.svg?v={{ get_hash(path='static/assets/paypal.svg', sha_type=256) | slugify }}"></a>`;
}
</script>
{% endblock head %}

{% block content %}
<p>You can help us cover the equipment and permit expenses from our outdoor events. Thank you! ❤️

<div id="options">
  <div>
    <input type="radio" id="donation-10" name="amount" value="10€" onchange="handleSelection()">
    <label for="donation-10">10€</label>
  </div>

  <div>
    <input type="radio" id="donation-15" name="amount" value="15€" onchange="handleSelection()">
    <label for="donation-15">15€</label>
  </div>

  <div>
    <input type="radio" id="donation-20" name="amount" value="20€" onchange="handleSelection()">
    <label for="donation-20">20€</label>
  </div>
</div>

<div id="payment"></div>

<p style="color: #BBB; font-size: 80%;">The payment is for <a href="https://hbry.fi" style="color: #FFF;">Helsinki Bachateando ry</a>, a non-profit bachata association.
{% endblock content %}
